{% extends "tickets/base.html" %} {% block page_title %} {% if object %}Edit
Company{% else %}New Company{% endif %} {% endblock %} {% block breadcrumb %}
<li>
  <a href="{% url 'tickets:company_list' %}" class="link link-hover"
    >Companies</a
  >
</li>
<li>
  <span class="text-base-content/70"
    >{% if object %}Edit{% else %}New{% endif %}</span
  >
</li>
{% endblock %} {% block page_header %} {% if object %}Edit Company{% else %}Add
New Company{% endif %} {% endblock %} {% block page_subtitle %}
<p class="text-base-content/70">
  {% if object %} Update company information {% else %} Add a new partner
  company to the system {% endif %}
</p>
{% endblock %} {% block page_actions %}
<a href="{% url 'tickets:company_list' %}" class="btn btn-outline">
  <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
    <path
      stroke-linecap="round"
      stroke-linejoin="round"
      stroke-width="2"
      d="M10 19l-7-7m0 0l7-7m-7 7h18"
    ></path>
  </svg>
  Back to Companies
</a>
{% endblock %} {% block tickets_content %}
<div class="max-w-2xl mx-auto">
  <form method="post" class="space-y-6">
    {% csrf_token %}

    <div class="card bg-base-100 shadow">
      <div class="card-body">
        <h3 class="card-title">Company Information</h3>

        <div class="form-control">
          <label class="label">
            <span class="label-text">Company Name *</span>
          </label>
          {{ form.name }} {% if form.name.errors %}
          <label class="label">
            <span class="label-text-alt text-error"
              >{{ form.name.errors.0 }}</span
            >
          </label>
          {% endif %}
        </div>

        <div class="form-control">
          <label class="label">
            <span class="label-text">Description</span>
          </label>
          {{ form.description }} {% if form.description.errors %}
          <label class="label">
            <span class="label-text-alt text-error"
              >{{ form.description.errors.0 }}</span
            >
          </label>
          {% endif %}
          <label class="label">
            <span class="label-text-alt">Brief description of the company</span>
          </label>
        </div>

        <div class="form-control">
          <label class="label">
            <span class="label-text">Contact Email *</span>
          </label>
          {{ form.contact_email }} {% if form.contact_email.errors %}
          <label class="label">
            <span class="label-text-alt text-error"
              >{{ form.contact_email.errors.0 }}</span
            >
          </label>
          {% endif %}
        </div>

        <div class="form-control">
          <label class="label">
            <span class="label-text">Contact Phone</span>
          </label>
          {{ form.contact_phone }} {% if form.contact_phone.errors %}
          <label class="label">
            <span class="label-text-alt text-error"
              >{{ form.contact_phone.errors.0 }}</span
            >
          </label>
          {% endif %}
        </div>

        <div class="form-control">
          <label class="label cursor-pointer">
            <span class="label-text">Active</span>
            {{ form.is_active }}
          </label>
          {% if form.is_active.errors %}
          <label class="label">
            <span class="label-text-alt text-error"
              >{{ form.is_active.errors.0 }}</span
            >
          </label>
          {% endif %}
          <label class="label">
            <span class="label-text-alt"
              >Whether this company is active in the system</span
            >
          </label>
        </div>
      </div>
    </div>

    <!-- Form Errors -->
    {% if form.non_field_errors %}
    <div class="alert alert-error">
      <svg
        class="w-6 h-6"
        fill="none"
        stroke="currentColor"
        viewBox="0 0 24 24"
      >
        <path
          stroke-linecap="round"
          stroke-linejoin="round"
          stroke-width="2"
          d="M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"
        ></path>
      </svg>
      <div>
        <h3 class="font-bold">Please correct the following errors:</h3>
        <div class="text-sm">
          {% for error in form.non_field_errors %}
          <p>{{ error }}</p>
          {% endfor %}
        </div>
      </div>
    </div>
    {% endif %}

    <!-- Submit Buttons -->
    <div class="flex justify-end gap-4">
      <a href="{% url 'tickets:company_list' %}" class="btn btn-outline"
        >Cancel</a
      >
      <button type="submit" class="btn btn-primary">
        {% if object %}
        <svg
          class="w-4 h-4"
          fill="none"
          stroke="currentColor"
          viewBox="0 0 24 24"
        >
          <path
            stroke-linecap="round"
            stroke-linejoin="round"
            stroke-width="2"
            d="M5 13l4 4L19 7"
          ></path>
        </svg>
        Update Company {% else %}
        <svg
          class="w-4 h-4"
          fill="none"
          stroke="currentColor"
          viewBox="0 0 24 24"
        >
          <path
            stroke-linecap="round"
            stroke-linejoin="round"
            stroke-width="2"
            d="M12 4v16m8-8H4"
          ></path>
        </svg>
        Create Company {% endif %}
      </button>
    </div>
  </form>
</div>
{% endblock %}




